extends layout 

block content 
  .w3-card-4
    a.w3-button.w3-block.w3-teal.w3-margin-bottom.w3-center(href='/insert')
      h2 Insert From

    if isInsert 
      .w3-card-4.w3-padding
        br  

        form.w3-container(method="POST")
          label.w3-text-teal Description 
          input.w3-input.w3-border.w3-light-grey(type="text" name="description")

          br
          label.w3-text-teal Who
          input.w3-input.w3-border.w3-light-grey(type="text" name="who")

          br
          label.w3-text-teal Due Date
          input.w3-input.w3-border.w3-light-grey(type="text" name="duedate")

          input.w3-input.w3-border.w3-light-grey(type="hidden" name="done" value="false")

          br
          center 
            button.w3-btn.w3-teal.w3-round-large.w3-border(type="submit") Submit

    if toEdit
      .w3-container.w3-teal.w3-center.w3-padding-small 
        h2.w3-center Edit Form

      .w3-card-4.w3-padding
        br
        form.w3-container(method="POST" action="/edit")
          label.w3-text-teal Description
          input.w3-input.w3-border.w3-light-grey(type="text" name="description" value=toEdit.description)

          br
          label.w3-text-teal Who
          input.w3-input.w3-border.w3-light-grey(type="text" name="who" value=toEdit.who)

          br
          label.w3-text-teal Due Date
          input.w3-input.w3-border.w3-light-grey(type="text" name="duedate" value=toEdit.duedate)

          input.w3-input.w3-border.w3-light-grey(type="hidden" name="done" value=toEdit.done)
          input.w3-input.w3-border.w3-light-grey(type="hidden" name="id" value=toEdit.id)
          
          br
          center 
            button.w3-btn.w3-teal.w3-round-large.w3-border(type="submit") Submit          
    
    table.w3-padding.w3-table.w3-center
      tr.w3.bottom-bar.w3-border-dark-gray
        th.w3-center.w3-container(style="width:50%")
          b To do
        th.w3-center.w3-container(style="width:50%")
          b Already done
      
      tr
        td
          table.w3-table-all
            tr
              th #[b Description]
              th #[b Who]
              th #[b Date]
              th #[b Actions]
            
            each task in tasks
              if task.done == "false"
                tr
                  td #{task.description}
                  td #{task.who}
                  td #{task.duedate}
                  td
                    a.glyphicon.glyphicon-pencil.w3-margin-right.w3-large(href="/edit/"+task.id style="text-decoration: none")
                    a.glyphicon.glyphicon-ok.w3-margin-right.w3-large(href="/done/"+task.id style="text-decoration: none")
                    a.glyphicon.glyphicon-trash.w3-large(href="/delete/"+task.id style="text-decoration: none")
        
        td
          table.w3-table-all
            tr
              th #[b Description]
              th #[b Who]
              th #[b Date]
              th #[b Actions]
            
            each task in tasks
              if task.done == "true"
                tr
                  td #{task.description}
                  td #{task.who}
                  td #{task.duedate}
                  td
                    a.glyphicon.glyphicon-trash.w3-large(href="/delete/"+task.id style="text-decoration: none")

    footer.w3-container.w3-teal.w3-center.w3-padding.w3-topbar.w3-border-dark-gray
      h5 Generated by EngWeb2023 #{d}
  